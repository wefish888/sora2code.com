import { useState, useEffect } from 'react';

type Locale = 'en' | 'zh' | 'ja' | 'ko';

const translations = {
  en: {
    'nav.home': 'Home',
    'nav.blog': 'Blog',
    'nav.guide': 'Guide',
    'nav.about': 'About',
    'nav.faq': 'FAQ',
    'home.title': 'Sora Invite Codes',
    'home.subtitle': 'Get Sora Access Now',
    'home.description': "Real-time updated Sora invite codes from Reddit & Twitter. Access OpenAI's video generation platform instantly.",
    'home.liveUpdates': 'Live Updates • Real-time Collection',
    'home.browseCodes': 'Browse Codes',
    'home.howToUse': 'How to Use',
    'codes.latestCodes': 'Latest Invite Codes',
    'codes.loading': 'Loading...',
    'codes.noCodesFound': 'No codes found',
    'codes.searchPlaceholder': 'Search codes, rewards or authors...',
    'codes.copyCode': 'Copy Full Code',
    'codes.copied': 'Copied!',
    'codes.copying': 'Copying...',
    'codes.refresh': 'Refresh',
    'codes.clearFilters': 'Clear Filters',
    'codes.platform': 'Platform',
    'codes.status': 'Status',
    'codes.gameVersion': 'Game Version',
    'codes.showExpired': 'Show Expired',
    'codes.active': 'Active',
    'codes.expired': 'Expired',
    'codes.invalid': 'Invalid',
    'codes.pending': 'Pending',
    'codes.justNow': 'Just now',
    'codes.minutesAgo': 'minutes ago',
    'codes.hoursAgo': 'hours ago',
    'codes.daysAgo': 'days ago',
    'codes.soraAccess': 'Sora2 Access',
    'codes.copyCount': 'Copied',
    'codes.times': 'times',
    'stats.activeCodes': 'Active Codes',
    'stats.totalCopies': 'Total Copies',
    'stats.autoMonitoring': 'Auto Monitoring',
    'tip.title': 'Support Us with USDT?',
    'tip.description1': 'This service is free and maintained by volunteers.',
    'tip.description2': 'A small tip helps us keep it running!',
    'tip.network': 'TRC20 Network (Low Fees)',
    'tip.address': 'USDT (TRC20) Address:',
    'tip.copyAddress': 'Copy Address',
    'tip.addressCopied': 'Address Copied!',
    'tip.suggestedAmounts': 'Suggested amounts (optional):',
    'tip.sentTip': "I've Sent a Tip!",
    'tip.skipAndCopy': 'Skip and Copy Code',
    'tip.pleaseWait': 'Please wait',
    'tip.seconds': 'seconds...',
    'tip.thankYou': 'Thank you for your support! Your generosity helps us maintain this free service.',
    'tip.footer1': 'Every contribution counts, no matter how small!',
    'tip.footer2': 'We never see your transaction details'
  },
  zh: {
    'nav.home': '首页',
    'nav.blog': '博客',
    'nav.guide': '指南',
    'nav.about': '关于',
    'nav.faq': '常见问题',
    'home.title': 'Sora 邀请码',
    'home.subtitle': '立即获取 Sora 访问权限',
    'home.description': '实时从 Reddit 和 Twitter 更新 Sora 邀请码。立即访问 OpenAI 的视频生成平台。',
    'home.liveUpdates': '实时更新 • 即时收集',
    'home.browseCodes': '浏览邀请码',
    'home.howToUse': '使用方法',
    'codes.latestCodes': '最新邀请码',
    'codes.loading': '加载中...',
    'codes.noCodesFound': '未找到邀请码',
    'codes.searchPlaceholder': '搜索代码、奖励或作者...',
    'codes.copyCode': '复制完整代码',
    'codes.copied': '已复制！',
    'codes.copying': '复制中...',
    'codes.refresh': '刷新',
    'codes.clearFilters': '清除筛选',
    'codes.platform': '平台',
    'codes.status': '状态',
    'codes.gameVersion': '游戏版本',
    'codes.showExpired': '显示已过期',
    'codes.active': '活跃',
    'codes.expired': '已过期',
    'codes.invalid': '无效',
    'codes.pending': '待处理',
    'codes.justNow': '刚刚',
    'codes.minutesAgo': '分钟前',
    'codes.hoursAgo': '小时前',
    'codes.daysAgo': '天前',
    'codes.soraAccess': 'Sora2 访问权限',
    'codes.copyCount': '已复制',
    'codes.times': '次',
    'stats.activeCodes': '活跃代码',
    'stats.totalCopies': '总复制次数',
    'stats.autoMonitoring': '自动监控',
    'tip.title': '用 USDT 支持我们？',
    'tip.description1': '本服务免费且由志愿者维护。',
    'tip.description2': '小额打赏有助于我们保持运营！',
    'tip.network': 'TRC20 网络（低手续费）',
    'tip.address': 'USDT (TRC20) 地址：',
    'tip.copyAddress': '复制地址',
    'tip.addressCopied': '地址已复制！',
    'tip.suggestedAmounts': '建议金额（可选）：',
    'tip.sentTip': '我已打赏！',
    'tip.skipAndCopy': '跳过并复制代码',
    'tip.pleaseWait': '请等待',
    'tip.seconds': '秒...',
    'tip.thankYou': '感谢您的支持！您的慷慨帮助我们维护这项免费服务。',
    'tip.footer1': '每一份贡献都很重要，无论多小！',
    'tip.footer2': '我们永远看不到您的交易详情'
  },
  ja: {
    'nav.home': 'ホーム',
    'nav.blog': 'ブログ',
    'nav.guide': 'ガイド',
    'nav.about': '概要',
    'nav.faq': 'よくある質問',
    'home.title': 'Sora 招待コード',
    'home.subtitle': '今すぐSoraアクセスを取得',
    'home.description': 'RedditとTwitterからリアルタイムで更新されるSora招待コード。OpenAIのビデオ生成プラットフォームに即座にアクセス。',
    'home.liveUpdates': 'ライブ更新 • リアルタイム収集',
    'home.browseCodes': 'コードを閲覧',
    'home.howToUse': '使い方',
    'codes.latestCodes': '最新の招待コード',
    'codes.loading': '読み込み中...',
    'codes.noCodesFound': 'コードが見つかりません',
    'codes.searchPlaceholder': 'コード、報酬、作成者を検索...',
    'codes.copyCode': '完全なコードをコピー',
    'codes.copied': 'コピーしました！',
    'codes.copying': 'コピー中...',
    'codes.refresh': '更新',
    'codes.clearFilters': 'フィルターをクリア',
    'codes.platform': 'プラットフォーム',
    'codes.status': 'ステータス',
    'codes.gameVersion': 'ゲームバージョン',
    'codes.showExpired': '期限切れを表示',
    'codes.active': '有効',
    'codes.expired': '期限切れ',
    'codes.invalid': '無効',
    'codes.pending': '保留中',
    'codes.justNow': 'たった今',
    'codes.minutesAgo': '分前',
    'codes.hoursAgo': '時間前',
    'codes.daysAgo': '日前',
    'codes.soraAccess': 'Sora2アクセス',
    'codes.copyCount': 'コピー済み',
    'codes.times': '回',
    'stats.activeCodes': '有効なコード',
    'stats.totalCopies': '総コピー数',
    'stats.autoMonitoring': '自動監視',
    'tip.title': 'USDTで支援しますか？',
    'tip.description1': 'このサービスは無料でボランティアによって運営されています。',
    'tip.description2': '少額のチップで運営を支援できます！',
    'tip.network': 'TRC20ネットワーク（低手数料）',
    'tip.address': 'USDT (TRC20) アドレス：',
    'tip.copyAddress': 'アドレスをコピー',
    'tip.addressCopied': 'アドレスをコピーしました！',
    'tip.suggestedAmounts': '推奨金額（任意）：',
    'tip.sentTip': 'チップを送りました！',
    'tip.skipAndCopy': 'スキップしてコードをコピー',
    'tip.pleaseWait': 'お待ちください',
    'tip.seconds': '秒...',
    'tip.thankYou': 'ご支援ありがとうございます！あなたの寛大さがこの無料サービスの維持に役立ちます。',
    'tip.footer1': 'どんなに少額でも、すべての貢献が重要です！',
    'tip.footer2': '取引の詳細を当方が見ることは決してありません'
  },
  ko: {
    'nav.home': '홈',
    'nav.blog': '블로그',
    'nav.guide': '가이드',
    'nav.about': '소개',
    'nav.faq': '자주 묻는 질문',
    'home.title': 'Sora 초대 코드',
    'home.subtitle': '지금 Sora 액세스 권한 받기',
    'home.description': 'Reddit 및 Twitter에서 실시간으로 업데이트되는 Sora 초대 코드. OpenAI의 비디오 생성 플랫폼에 즉시 액세스하세요.',
    'home.liveUpdates': '라이브 업데이트 • 실시간 수집',
    'home.browseCodes': '코드 둘러보기',
    'home.howToUse': '사용 방법',
    'codes.latestCodes': '최신 초대 코드',
    'codes.loading': '로딩 중...',
    'codes.noCodesFound': '코드를 찾을 수 없습니다',
    'codes.searchPlaceholder': '코드, 보상 또는 작성자 검색...',
    'codes.copyCode': '전체 코드 복사',
    'codes.copied': '복사됨!',
    'codes.copying': '복사 중...',
    'codes.refresh': '새로고침',
    'codes.clearFilters': '필터 지우기',
    'codes.platform': '플랫폼',
    'codes.status': '상태',
    'codes.gameVersion': '게임 버전',
    'codes.showExpired': '만료된 항목 표시',
    'codes.active': '활성',
    'codes.expired': '만료됨',
    'codes.invalid': '무효',
    'codes.pending': '보류 중',
    'codes.justNow': '방금',
    'codes.minutesAgo': '분 전',
    'codes.hoursAgo': '시간 전',
    'codes.daysAgo': '일 전',
    'codes.soraAccess': 'Sora2 액세스',
    'codes.copyCount': '복사됨',
    'codes.times': '번',
    'stats.activeCodes': '활성 코드',
    'stats.totalCopies': '총 복사 수',
    'stats.autoMonitoring': '자동 모니터링',
    'tip.title': 'USDT로 지원하시겠습니까?',
    'tip.description1': '이 서비스는 무료이며 자원봉사자들이 유지 관리합니다.',
    'tip.description2': '소액의 팁이 서비스 운영에 도움이 됩니다!',
    'tip.network': 'TRC20 네트워크 (낮은 수수료)',
    'tip.address': 'USDT (TRC20) 주소:',
    'tip.copyAddress': '주소 복사',
    'tip.addressCopied': '주소가 복사되었습니다!',
    'tip.suggestedAmounts': '권장 금액 (선택사항):',
    'tip.sentTip': '팁을 보냈습니다!',
    'tip.skipAndCopy': '건너뛰고 코드 복사',
    'tip.pleaseWait': '기다려 주세요',
    'tip.seconds': '초...',
    'tip.thankYou': '지원해 주셔서 감사합니다! 여러분의 관대함이 이 무료 서비스를 유지하는 데 도움이 됩니다.',
    'tip.footer1': '아무리 작은 기여라도 모두 소중합니다!',
    'tip.footer2': '거래 세부 정보를 저희가 볼 수 없습니다'
  }
};

export function useI18n() {
  const [locale, setLocale] = useState<Locale>('en');

  useEffect(() => {
    // Detect locale from URL
    const path = window.location.pathname;
    let detectedLocale: Locale = 'en';
    if (path.startsWith('/zh')) {
      detectedLocale = 'zh';
    } else if (path.startsWith('/ja')) {
      detectedLocale = 'ja';
    } else if (path.startsWith('/ko')) {
      detectedLocale = 'ko';
    }
    setLocale(detectedLocale);
  }, []);

  const t = (key: string): string => {
    return translations[locale][key as keyof typeof translations['en']] || key;
  };

  return { t, locale };
}
